<!DOCTYPE html><html><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1'><style>    .spinner {        position: fixed;        display: none;        width: 55px;        height: 55px;        top: calc(50% - 25px);        left: calc(50% - 25px);        background-color: #ff8eb3;        border-radius: 100%;        -webkit-animation: sk-scaleout 0.8s infinite ease-in-out;        animation: sk-scaleout 1.0s infinite ease-in-out;    }        @-webkit-keyframes sk-scaleout {        0% {            -webkit-transform: scale(0)        }        100% {            -webkit-transform: scale(1.0);            opacity: 0;        }    }        @keyframes sk-scaleout {        0% {            -webkit-transform: scale(0);            transform: scale(0);        }        100% {            -webkit-transform: scale(1.0);            transform: scale(1.0);            opacity: 0;        }    }        body {        color: #434343;        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;        font-size: 14px;        line-height: 1.42857142857143;        padding: 20px    }        a {        text-decoration: none;        color: #434343    }        .container {        margin: 0 auto;        max-width: 350px    }        #field-group {        opacity: 0;        transition: opacity 0.5s, top 0.5s;        box-sizing: border-box;        clear: both;        padding: 4px 0;        position: relative;        top: 0px;        margin: 0 auto;        padding: 0 20px;        width: 100%    }        #field-group>label {        color: #757575;        display: block;        margin: 0 0 5px 0;        padding: 5px 0 0;        position: relative;        word-wrap: break-word    }        input[type=text] {        background: #fff;        border: 1px solid #d0d0d0;        border-radius: 2px;        box-sizing: border-box;        color: #434343;        font-family: inherit;        font-size: inherit;        height: 2.5em;        line-height: 1.4285714285714;        padding: 4px 5px;        margin: 0;        width: 100%    }        @media all and(orientation:portrait) {        .container {            padding-top: 0px        }    }        input[type=text]:focus {        border-color: #ff8eb3;        outline: 0    }        .button-container {        box-sizing: border-box;        clear: both;        margin: -20px 0 0;        padding: 4px 0;        position: relative;        width: 100%;        text-align: center    }        button {        outline: none;        box-sizing: border-box;        background: #f5f5f5;        border: 1px solid#bdbdbd;        border-radius: 18px;        color: #434343;        cursor: pointer;        display: block;        font-family: inherit;        font-size: 16px;        font-variant: normal;        font-weight: 400;        height: 2.14285714em;        line-height: 1.42857143;        margin: 18px auto;        padding: 4px 30px;        text-decoration: none;        vertical-align: baseline;        white-space: nowrap    }        #sub {        transition: top 0.5s, opacity 0.5s;        position: relative;        top: -10px;        opacity: 0    }        #right-div {        position: fixed;        bottom: 3%;        left: calc(50% - 100px);        width: 200px;        font-size: 12px;        line-height: 1;        color: #999    }        .right {        text-align: center    }        @media(max-height:400px) {        #right-div {            display: none        }    }        #ssid-list {        border: 1px solid #d0d0d0;        border-radius: 5px;        width: 100%    }        #ssid-list>li {        height: 22px;        line-height: 22px;        transition: height 0.5s, background 0.2s;        position: relative;        cursor: pointer;        color: #434343;        display: block;        padding: 8px 15px;        border-top: 1px solid#d0d0d0    }        #ssid-list-ani {        animation: ssid-list-ani 0.5s;        -moz-animation: ssid-list-ani 0.5s;        -webkit-animation: ssid-list-ani 0.5s;    }        #ssid-list-li-ani {        animation: ssid-list-li-ani 0.5s;        -moz-animation: ssid-list-li-ani 0.5s;        -webkit-animation: ssid-list-li-ani 0.5s;    }        @keyframes ssid-list-ani {        0% {            opacity: 0        }        100% {            opacity: 1        }    }        @keyframes ssid-list-li-ani {        0% {            height: 30        }        100% {            height: 22        }    }        #ssid-list>li:first-child {        border-top: 0;        border-top-left-radius: 5px;        border-top-right-radius: 5px    }        #ssid-list>li:last-child {        border-bottom-left-radius: 5px;        border-bottom-right-radius: 5px    }        #ssid-list>li:hover {        background: #f5f5f5    }        .encrytype {        color: #999;        display: inline-block;        z-index: 1;        position: absolute;        right: 15px    }        #passwordDIV {        width: 100%;        height: 0px;        background: #f5f5f5    }        #connecting {        display: none;        position: fixed;        left: 0;        top: 0;        z-index: -1;        width: 100%;        height: 100%;        background: #fff;    }        #connect-state {        font-size: 40px;        margin-top: 10%;        text-align: center;    }     .af {        text-align: center;               border: none;               border-radius: 5px;               cursor: pointer;                             margin: 20px;               text-align: center;               font-size: 20px;               color: #fff;               background: #ff8eb3;                                       }                    .title {               font-size: 60px;               color: #ff8eb3;               margin-bottom: 30px;           }              input {                             font-size: 25px;               margin-top: 25px;               border-top: none;               border-left: none;               border-right: none;               border-bottom: 3px solid #ff8eb3;               color: #ff8eb3;           }    .modalbox {    font-family: Arial, Helvetica, sans-serif;    position: fixed;    top: 0;    right: 0;    bottom: 0;    left: 0;    background: #000;      z-index: 99999;      opacity: 0;        -webkit-transition: opacity 400ms ease-in;    -moz-transition: opacity 400ms ease-in;    transition: opacity 400ms ease-in;    pointer-events: none;}.modalbox:target {       opacity: 0.8;      pointer-events: auto;}.modalbox-dialog {    width: 200px;    position: relative;    margin: 50% auto;    padding: 5px 20px 13px 20px;    border-radius: 10px;    background: #fff;}</style></head><body><div id='connecting'><p id='connect-state'>&#x6B63;&#x5728;&#x8FDE;&#x63A5;</p></div><div class='spinner' id='load'></div><div class='container'><h1 style='text-align:center;font-size:40px;'>WiFi&#x914D;&#x7F6E;</h1><div class='button-container'><button onclick="scan()" id='scan-btn'>&#x626B;&#x63CF;&#x70ED;&#x70B9;</button><span style='color:#999'>&#20179;&#24211;&#22320;&#22336; :github.com/bilibilifmk/wifi_link_tool</span><br><span style='color:#999'>&#24403;&#21069;&#35774;&#22791;&#31867;&#22411; :ESP8266EX &#x4EC5;&#x652F;&#x6301;2.4G</span><h1></h1></div><div id='ssid-list' style='display: none;'></div></div><div id="my-modal-box" class="modalbox"><div class="modalbox-dialog"><a href="#close" title="关闭" class="modalbox-close-btn">关闭</a><p id="ssidn">SSID</p><input type="text" id="pem"  placeholder="请输入WIFI密码"><div style="  margin-left: 120px;"><input class="af" type="button" value="连接" onclick="gitlink()" ></div></div></div></body><script>var scanState = 0;function getid(id) {    return document.getElementById(id);};function scan() {    getid('ssid-list').className = '';    getid('load').style.display = 'block';    getid('ssid-list').innerHTML = '';    getid('ssid-list').style.display = 'none';    if(scanState == 1) {        return;    } else {        scanState = 1;        getid('scan-btn').style.borderColor = '#ff8eb3';        getid('scan-btn').style.color = '#888';        getid('scan-btn').innerHTML = '&#x6B63;&#x5728;&#x626B;&#x63CF;';        var xmlhttp = new XMLHttpRequest();        var requestString = './wifiscan';        xmlhttp.onreadystatechange = function() {            if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {                getid('load').style.display = 'none';                getid('scan-btn').style.borderColor = '#bdbdbd';                getid('scan-btn').style.color = '#434343';                getid('scan-btn').innerHTML = '&#x91CD;&#x65B0;&#x626B;&#x63CF;';                getid('ssid-list').style.display = 'block';                getid('ssid-list').classList.add('ssid-list-ani');                var req = xmlhttp.responseText;                req = JSON.parse(req);                for(var i = 0; i< req.req.length; i++) {                    var para = document.createElement('li');                    para.setAttribute('onclick', "ssidFocus('ssid_name" + i + "')");                    para.id = 'ssid' + i;                    para.innerHTML = "<span class='encrytype'>" + req.req[i].encryptionType + '</span>' + "<span id='ssid_name" + i + "'>" + req.req[i].ssid + '</span>';                    var node = document.createTextNode('');                    var ssidElement = getid('ssid-list');                    ssidElement.appendChild(para);                };                req = '';                scanState = 0;            };        };        xmlhttp.open('GET', requestString, true);        xmlhttp.send(null);    };};var lastSSID = '';function ssidFocus(num) {    var ssidElement = document.getElementById(num);     document.getElementById("ssidn").innerHTML =ssidElement.innerHTML;      window.location.hash ="#my-modal-box";};function gitlink(){    var passs = document.getElementById("pem").value;      var ssidElement = document.getElementById("ssidn").innerText;      if((passs != null) && (passs != '')) {        getid('connecting').style.display = 'block';         getid('connecting').style.zIndex = '2';         getid('load').style.display = 'block';         getid('load').style.zIndex = '3';        window.location.hash ="#close";                    var xmlhttp = new XMLHttpRequest();        var requestString = './wificonfig?ssid=' + ssidElement + '&password=' + passs;        xmlhttp.onreadystatechange = function() {            if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {                var req = xmlhttp.responseText;                if(req == '1') {                    getid('connecting').innerHTML = '<h1>&#x8FDE;&#x63A5;&#x6210;&#x529F;</h1><h1>&#x70ED;&#x70B9;&#x5373;&#x5C06;&#x5173;&#x95ED</h1><h1>&#37197;&#32593;&#25104;&#21151;&#35831;&#20851;&#38381;&#39029;&#38754;</h1><h1>&#20132;&#27969;&#32676;:624114361</h1><h1>&#20179;&#24211;&#22320;&#22336; :github.com/bilibilifmk/wifi_link_tool</h1>'                } else {                    getid('connecting').innerHTML = '<h1>&#x8FDE;&#x63A5;&#x5931;&#x8D25;</h1><h1>&#20132;&#27969;&#32676;:624114361</h1><h1>&#20179;&#24211;&#22320;&#22336; :github.com/bilibilifmk/wifi_link_tool</h1>'                }                getid('load').style.zIndex = '-1';                getid('load').style.display = 'none'            }        }    };    xmlhttp.open('GET', requestString, true);    xmlhttp.send(null);    lastSSID = num};</script></html>